<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head><title>
  
  Restoring Rockbox Root on Clip+ | Miles Sandlar
  
</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="icon" href="/style/images/favicon.ico" />
<link rel="stylesheet" href="/css/all.css"/>
<script type="text/javascript" src="/style/all.js"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22486639-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
	<body onload="sh_highlightDocument();">
		<div id="main">
			<header>
    <nav>
      
        <a  href="/front-end">Front End</a>
      
        <a  href="/interfaces">Interface</a>
      

      <span class='seperator'></span>
      
        <a  href="/miscart">&omega;</a>
      
        <a class='active' href="/blog">&beta;</a>
      
        <a  href="/contact">&#9993</a>
      
  </nav>


  <div class="right links">
    <a class="a" title="My Resume" href="/resources/resume.pdf">M</a><a target="_blank" class="b" title="My Github Account" href='http://github.com/mil'>i</a><a target="_blank" class="c" title="You've spotted me!" href='http://www.freep.com/article/20130921/news05/309210021'>l</a><a target="_blank" class="d" title="My LinkedIn Account" href='http://linkedin.com/in/sandlar'>e</a><a target="_blank" class="e" title="My Ancient Web Design Company" href='http://logicdrift.com'>s</a>
  </div>
</header>

			<div id="main-content">
	<div class="post last">
		<h2>Restoring Rockbox Root on Clip+</h2>
    <div class="date">January 16, 2013, 4:54PM</div>
		<div class="content">
			<p>Recently my Sansa Clip+ died on me randomly. I had Rockbox installed for about two years and then one day when I booted it up it just said “File not found”. Makes sense, flash can be temperamental. In anycase, for any of yall in the same position, here’s the quick restore procedure to get your Rockbox root fs back and booting:</p>

<p>Plug in your Clip+ and wipe the partition table, make a new partition, format it vfat, and mount it:</p>
<pre class='sh_c'>
fdisk /dev/sdb (your device)
  --> proceed to delete (d) any existing partitions, 
    (in my case there were none)
  --> make a new partition (n), set filesystem type(t) to b
  --> write (w) out
mkfs.vfat /dev/sdb1 (your device partition)
mkdir /mnt/clip
mount /dev/sdb1 /mnt/clip
</pre>
<p>Now you’ve got a partition to work with, so proceed with normal Rockbox setup procedure. Download the Rockbox firmware and copy it over to your clip:</p>
<pre class='sh_c'>
wget http://build.rockbox.org/data/rockbox-sansaclipplus.zip
unzip rockbox-sansaclipplus.zip
mv .rockbox /mnt/clip
</pre>
<p>Then, patch and copy over the bootloader the manual way (GUI didn’t work for me):</p>
<pre class='sh_c'>
wget http://mp3support.sandisk.com/firmware/clipplus/clipplus01.02.16.zip
wget http://download.rockbox.org/bootloader/sandisk-sansa/clipplus/bootloader-clipplus.sansa
wget http://download.rockbox.org/bootloader/sandisk-sansa/mkamsboot/linux-x86-32/mkamsboot
unzip clipplus01.02.16.zip
./mkamsboot clppa.boot bootloader-clipplus.sansa patched.bin
cp patched.bin /mnt/clip/clppa.bin
umount /mnt/clip
</pre>
<p>Unplug the Clip+ and Rockbox should be working again.</p>
		</div>
	</div>
</div>

			<footer>
  
    <a title="Back to Blog" class="return" href="/blog">&#171;</a>
  
  <a class='copyright' href="http://creativecommons.org/licenses/by/3.0/" target="_blank" title="CC Attribution 3.0 Unported">&copy;</a>
	<span class="validate">
    <a target="_blank" title='XHTML 1.0 Transitional DTD' href="http://validator.w3.org/check?uri=http://userbound.com//blog/Restore-Rockbox-Root-on-Clip%2B">Valid</a><a target="_blank" title='CSS2.1' href="http://jigsaw.w3.org/css-validator/validator?uri=http://userbound.com/style/all.css">ates</a>
  </span>
</footer>

		</div>
	</body>
</html>
